# Railway Configuration for DreamNet
# Railway will use this file to configure the deployment

[build]
builder = "NIXPACKS"
buildCommand = "pnpm install --frozen-lockfile && pnpm --filter @dreamnet/server build"

[deploy]
startCommand = "pnpm --filter @dreamnet/server start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Service configuration
[service]
# Root directory for the service (server is at repo root/server)
root = "server"

# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 100
healthcheckInterval = 300

# Environment variables (Railway will inject these from dashboard)
# These are just documentation - set actual values in Railway dashboard
# PORT is automatically injected by Railway

